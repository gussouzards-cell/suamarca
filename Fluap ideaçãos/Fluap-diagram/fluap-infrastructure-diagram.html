<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fluap Infrastructure - Central de Benef√≠cios</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
            background: linear-gradient(135deg, #0a0e27 0%, #1a1f3a 100%);
            color: #ffffff;
            overflow: auto;
            min-height: 100vh;
        }

        .container {
            width: 100vw;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            padding: 100px 20px;
        }

        .diagram {
            width: 100%;
            max-width: 1400px;
            height: 1400px;
            position: relative;
            margin: 0 auto;
        }

        svg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        /* N√∫cleo Central - FLUAP ACCESS */
        .core {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 300px;
            height: 300px;
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            border-radius: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            box-shadow: 0 20px 60px rgba(255, 215, 0, 0.4), 0 0 0 4px rgba(255, 215, 0, 0.2);
            z-index: 100;
            padding: 35px;
            text-align: center;
            animation: pulse 3s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { box-shadow: 0 20px 60px rgba(255, 215, 0, 0.4), 0 0 0 4px rgba(255, 215, 0, 0.2); }
            50% { box-shadow: 0 20px 80px rgba(255, 215, 0, 0.6), 0 0 0 6px rgba(255, 215, 0, 0.3); }
        }

        .core-title {
            font-size: 36px;
            font-weight: 700;
            color: #0a0e27;
            margin-bottom: 10px;
            letter-spacing: -0.5px;
        }

        .core-subtitle {
            font-size: 15px;
            color: #0a0e27;
            opacity: 0.85;
            font-weight: 600;
            margin-bottom: 14px;
        }

        .core-description {
            font-size: 12px;
            color: #0a0e27;
            opacity: 0.75;
            line-height: 1.5;
            max-width: 240px;
        }

        /* Cards dos m√≥dulos */
        .module-card {
            position: absolute;
            width: 220px;
            padding: 22px;
            background: rgba(26, 31, 58, 0.95);
            border: 2px solid rgba(59, 130, 246, 0.3);
            border-radius: 12px;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            cursor: pointer;
            z-index: 50;
        }

        .module-card:hover {
            border-color: rgba(59, 130, 246, 0.9);
            box-shadow: 0 8px 32px rgba(59, 130, 246, 0.4);
            transform: translateY(-4px) scale(1.02);
            background: rgba(26, 31, 58, 1);
        }

        .module-title {
            font-size: 17px;
            font-weight: 600;
            color: #3b82f6;
            margin-bottom: 8px;
            letter-spacing: -0.3px;
            line-height: 1.3;
        }

        .module-subtitle {
            font-size: 11.5px;
            color: #94a3b8;
            line-height: 1.5;
        }

        /* Setas de conex√£o */
        .connection-line {
            stroke: rgba(59, 130, 246, 0.35);
            stroke-width: 2;
            fill: none;
        }

        .connection-line-bidirectional {
            stroke: rgba(59, 130, 246, 0.25);
            stroke-width: 1.5;
            fill: none;
            stroke-dasharray: 4,4;
        }

        .connection-arrow {
            fill: rgba(59, 130, 246, 0.6);
        }

        /* Frase de destaque */
        .tagline {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 15px;
            color: rgba(255, 255, 255, 0.5);
            font-style: italic;
            letter-spacing: 0.5px;
            z-index: 200;
            text-align: center;
            padding: 0 20px;
        }

        /* T√≠tulo principal */
        .main-title {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 28px;
            font-weight: 600;
            color: #ffffff;
            letter-spacing: -0.5px;
            z-index: 200;
        }

        /* Labels de fluxo */
        .flow-label {
            position: absolute;
            font-size: 10px;
            color: rgba(59, 130, 246, 0.7);
            background: rgba(10, 14, 39, 0.8);
            padding: 4px 8px;
            border-radius: 4px;
            pointer-events: none;
            z-index: 150;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="diagram">
            <h1 class="main-title">Fluap Infrastructure</h1>
            
            <!-- N√∫cleo Central -->
            <div class="core">
                <div class="core-title">FLUAP ACCESS</div>
                <div class="core-subtitle">Core de Benef√≠cios em Sa√∫de</div>
                <div class="core-description">Envio, aplica√ß√£o e liquida√ß√£o de benef√≠cios e descontos em farm√°cias</div>
            </div>

            <!-- SVG para conex√µes -->
            <svg id="connections">
                <defs>
                    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                        <polygon points="0 0, 10 3, 0 6" fill="rgba(59, 130, 246, 0.6)" />
                    </marker>
                    <marker id="arrowhead-reverse" markerWidth="10" markerHeight="10" refX="1" refY="3" orient="auto">
                        <polygon points="10 0, 0 3, 10 6" fill="rgba(59, 130, 246, 0.6)" />
                    </marker>
                </defs>
            </svg>

            <!-- Orbita 1 - Core Operacional (9 m√≥dulos) -->
            <div id="orbit1-modules"></div>
            
            <!-- Orbita 2 - Sistemas de Suporte (5 m√≥dulos) -->
            <div id="orbit2-modules"></div>
            
            <!-- Orbita 3 - Impacto Social (1 m√≥dulo) -->
            <div id="orbit3-modules"></div>

            <div class="tagline">"Benefits are the transaction primitive of the Fluap ecosystem."</div>
        </div>
    </div>

    <script>
        // Configura√ß√£o das √≥rbitas (ser√° atualizado no init)
        let centerX = 700;
        let centerY = 700;

        // M√≥dulos Core Operacional (Orbita 1) - Ordenados por fluxo
        const coreModules = [
            { title: "FLUAP BENEFITS ENGINE", subtitle: "Cria√ß√£o e gest√£o de benef√≠cios. Tipos: valor fixo, percentual, cashback", icon: "‚öôÔ∏è" },
            { title: "FLUAP BENEFITS RULES", subtitle: "Elegibilidade, segmenta√ß√£o, limites. Regras por paciente, RX, campanha", icon: "üìã" },
            { title: "FLUAP BENEFITS DELIVERY", subtitle: "Envio de benef√≠cios. Canais: WhatsApp, SMS, Push, QR Code, NFC", icon: "üì§" },
            { title: "FLUAP BENEFITS REDEMPTION", subtitle: "Valida√ß√£o em farm√°cia. Autoriza√ß√£o e captura. Preven√ß√£o de uso duplicado", icon: "‚úÖ" },
            { title: "FLUAP BENEFITS LEDGER", subtitle: "Livro raz√£o imut√°vel. Registro de todas as transa√ß√µes de benef√≠cio", icon: "üìñ" },
            { title: "FLUAP BENEFITS CLEARING", subtitle: "C√°lculo de subs√≠dio. Repasses financeiros. Integra√ß√£o com pagamentos", icon: "üí∞" },
            { title: "FLUAP BENEFITS FRAUD", subtitle: "Antifraude. Score de risco. Detec√ß√£o de abuso", icon: "üõ°Ô∏è" },
            { title: "FLUAP BENEFITS SUBSCRIPTIONS", subtitle: "Benef√≠cios recorrentes. Tratamentos cont√≠nuos. Assinaturas patrocinadas", icon: "üîÑ" },
            { title: "FLUAP BENEFITS API", subtitle: "API p√∫blica. Integra√ß√£o com terceiros. Cria√ß√£o e consulta de benef√≠cios", icon: "üîå" }
        ];

        // Sistemas de Suporte (Orbita 2)
        const supportModules = [
            { title: "FLUAP PASS", subtitle: "Identidade, permiss√µes, v√≠nculo paciente ‚Üî benef√≠cio", icon: "üÜî" },
            { title: "FLUAP PAY", subtitle: "Pagamentos, repasses, liquida√ß√£o financeira", icon: "üí≥" },
            { title: "FLUAP RX", subtitle: "Prescri√ß√£o como gatilho de benef√≠cio", icon: "üíä" },
            { title: "FLUAP CONNECT", subtitle: "Integra√ß√£o com farm√°cias e PDVs", icon: "üîó" },
            { title: "FLUAP CARE", subtitle: "Acompanhamento do paciente, ades√£o ao tratamento", icon: "‚ù§Ô∏è" }
        ];

        // Impacto Social (Orbita 3)
        const impactModules = [
            { title: "FLUAP RECOVERY", subtitle: "Doa√ß√µes autom√°ticas baseadas no uso de benef√≠cios", icon: "üå±" }
        ];

        // Armazenar posi√ß√µes dos m√≥dulos
        const modulePositions = [];

        // Fun√ß√£o para posicionar m√≥dulos em √≥rbita
        function positionModules(modules, radius, startAngle, containerId, isCore = false) {
            const container = document.getElementById(containerId);
            const angleStep = (2 * Math.PI) / modules.length;
            const cardWidth = 220;
            const cardHeight = 120;
            
            // Usar centro atualizado
            const cx = window.diagramCenterX || centerX;
            const cy = window.diagramCenterY || centerY;
            
            modules.forEach((module, index) => {
                const angle = startAngle + (index * angleStep);
                const x = cx + radius * Math.cos(angle);
                const y = cy + radius * Math.sin(angle);
                
                const card = document.createElement('div');
                card.className = 'module-card';
                card.style.left = (x - cardWidth / 2) + 'px';
                card.style.top = (y - cardHeight / 2) + 'px';
                card.innerHTML = `
                    <div class="module-title">${module.icon ? module.icon + ' ' : ''}${module.title}</div>
                    <div class="module-subtitle">${module.subtitle}</div>
                `;
                container.appendChild(card);

                // Armazenar posi√ß√£o
                modulePositions.push({ x, y, module: module.title });

                // Desenhar conex√£o bidirecional com o n√∫cleo
                drawBidirectionalConnection(cx, cy, x, y);
            });

            // Conectar m√≥dulos adjacentes na mesma √≥rbita (apenas para core)
            if (isCore && modules.length > 1) {
                for (let i = 0; i < modules.length; i++) {
                    const angle1 = startAngle + (i * angleStep);
                    const angle2 = startAngle + ((i + 1) % modules.length) * angleStep;
                    const x1 = cx + radius * Math.cos(angle1);
                    const y1 = cy + radius * Math.sin(angle1);
                    const x2 = cx + radius * Math.cos(angle2);
                    const y2 = cy + radius * Math.sin(angle2);
                    drawOrbitalConnection(x1, y1, x2, y2, radius, cx, cy);
                }
            }
        }

        // Fun√ß√£o para desenhar conex√£o bidirecional
        function drawBidirectionalConnection(x1, y1, x2, y2) {
            const svg = document.getElementById('connections');
            const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
            line.setAttribute('x1', x1);
            line.setAttribute('y1', y1);
            line.setAttribute('x2', x2);
            line.setAttribute('y2', y2);
            line.setAttribute('class', 'connection-line');
            line.setAttribute('marker-end', 'url(#arrowhead)');
            line.setAttribute('marker-start', 'url(#arrowhead-reverse)');
            svg.appendChild(line);
        }

        // Fun√ß√£o para desenhar conex√£o orbital (curva)
        function drawOrbitalConnection(x1, y1, x2, y2, radius) {
            const svg = document.getElementById('connections');
            const centerX = svg.getAttribute('width') / 2;
            const centerY = svg.getAttribute('height') / 2;
            
            // Calcular √¢ngulos
            const angle1 = Math.atan2(y1 - centerY, x1 - centerX);
            const angle2 = Math.atan2(y2 - centerY, x2 - centerX);
            
            // Criar arco
            const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
            const largeArc = (angle2 - angle1) % (2 * Math.PI) > Math.PI ? 1 : 0;
            
            const d = `M ${x1} ${y1} A ${radius} ${radius} 0 ${largeArc} 1 ${x2} ${y2}`;
            path.setAttribute('d', d);
            path.setAttribute('class', 'connection-line-bidirectional');
            path.setAttribute('fill', 'none');
            svg.appendChild(path);
        }

        // Fun√ß√£o para conectar m√≥dulos espec√≠ficos (fluxo principal)
        function drawFlowConnections() {
            const svg = document.getElementById('connections');
            
            // Fluxo: RX/Care/Pass ‚Üí Rules ‚Üí Engine ‚Üí Delivery ‚Üí Redemption ‚Üí Ledger ‚Üí Clearing ‚Üí Pay ‚Üí Recovery
            // Esta √© uma simplifica√ß√£o - na pr√°tica, voc√™ conectaria os m√≥dulos espec√≠ficos
            // Por enquanto, as conex√µes radiais j√° mostram a conectividade
        }

        // Inicializar quando o DOM estiver pronto
        function init() {
            // Aguardar um pouco para garantir que o layout est√° calculado
            setTimeout(() => {
                const diagram = document.querySelector('.diagram');
                const centerX = diagram.offsetWidth / 2;
                const centerY = diagram.offsetHeight / 2;
                
                // Ajustar dimens√µes do SVG
                const svg = document.getElementById('connections');
                svg.setAttribute('width', diagram.offsetWidth);
                svg.setAttribute('height', diagram.offsetHeight);

                // Atualizar vari√°veis globais
                window.diagramCenterX = centerX;
                window.diagramCenterY = centerY;

                // Posicionar m√≥dulos
                positionModules(coreModules, 380, -Math.PI / 2, 'orbit1-modules', true);
                positionModules(supportModules, 580, Math.PI / 6, 'orbit2-modules');
                positionModules(impactModules, 720, Math.PI / 2, 'orbit3-modules');

                // Conectar Recovery ao Ledger (visualmente)
                setTimeout(() => {
                    const recoveryPos = modulePositions.find(m => m.module.includes('RECOVERY'));
                    const ledgerPos = modulePositions.find(m => m.module.includes('LEDGER'));
                    if (recoveryPos && ledgerPos) {
                        drawBidirectionalConnection(ledgerPos.x, ledgerPos.y, recoveryPos.x, recoveryPos.y);
                    }
                }, 100);
            }, 50);
        }

        // Aguardar carregamento
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', init);
        } else {
            init();
        }

        // Ajustar ao redimensionar
        let resizeTimeout;
        window.addEventListener('resize', () => {
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(() => {
                location.reload();
            }, 250);
        });
    </script>
</body>
</html>
